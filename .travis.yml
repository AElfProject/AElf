language: csharp
sudo: required
mono: none
dotnet: 2.2.105
dist: xenial
os:
  - linux
  - osx
osx_image: xcode9.4

deploy:
  - provider: script
    script: 
      bash scripts/deploy_myget.sh
    skip_cleanup: true
    on:
      tags: true
      condition: $TRAVIS_BRANCH = dev AND $TRAVIS_TAG = true
  - provider: script
    script:
      bash scripts/deploy_docker.sh;
      bash scripts/deploy_nuget.sh
    on:
      tags: true
      all_branches: true
      condition: $TRAVIS_BRANCH =~ ^master|release-*$